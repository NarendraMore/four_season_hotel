{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet VehicleCountComponent = class VehicleCountComponent {\n  constructor(service) {\n    this.service = service;\n    this.searchText = '';\n    this.page = 1;\n    this.ANPRdataArray = [];\n    this.currentPage = 1;\n    this.itemsPerPage = 6;\n    this.totalItems = 0;\n    this.first = 1;\n  }\n  ngOnInit() {\n    this.getAllANPRData();\n    this.getCurrentCount();\n    this.getCurrentCount1();\n  }\n  getAllANPRData() {\n    this.service.getAllANPRData(this.currentPage, this.itemsPerPage).subscribe(ANPRData => {\n      console.log('ANPRData', ANPRData);\n      this.ANPRdataArray = ANPRData.data;\n      this.totalItems = ANPRData.totalItems;\n      this.proecessData(ANPRData);\n    });\n  }\n  proecessData(allData) {\n    this.ANPRdataArray = allData.data.map(item => {\n      if ('inflag' in item) {\n        return {\n          ...item,\n          status: 'IN'\n        };\n      } else if ('outflag' in item) {\n        return {\n          ...item,\n          status: 'OUT'\n        };\n      } else {\n        return {\n          ...item,\n          status: 'UNKNOWN'\n        };\n      }\n    });\n  }\n  getCurrentCount() {\n    this.service.getcurrentCount().subscribe(currentCount => {\n      this.currentvehicleInCount = currentCount.totalInCount;\n      // this.currentDate = currentCount.date\n    });\n  }\n\n  getCurrentCount1() {\n    this.service.getcurrentCount().subscribe(currentCount => {\n      this.currentvwhicleOutCount = currentCount.totalOutCount;\n      // this.currentDate = currentCount.date\n    });\n  }\n\n  filteredvehicleData() {\n    if (!this.searchText) {\n      return this.ANPRdataArray;\n    }\n    return this.ANPRdataArray.filter(item => Object.values(item).some(val => val.toString().toLowerCase().includes(this.searchText.toLowerCase())));\n  }\n};\nVehicleCountComponent = __decorate([Component({\n  selector: 'app-vehicle-count',\n  templateUrl: './vehicle-count.component.html',\n  styleUrls: ['./vehicle-count.component.css']\n})], VehicleCountComponent);\nexport { VehicleCountComponent };","map":{"version":3,"names":["Component","VehicleCountComponent","constructor","service","searchText","page","ANPRdataArray","currentPage","itemsPerPage","totalItems","first","ngOnInit","getAllANPRData","getCurrentCount","getCurrentCount1","subscribe","ANPRData","console","log","data","proecessData","allData","map","item","status","getcurrentCount","currentCount","currentvehicleInCount","totalInCount","currentvwhicleOutCount","totalOutCount","filteredvehicleData","filter","Object","values","some","val","toString","toLowerCase","includes","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Narendra\\four_seasons_hotel\\src\\app\\components\\vehicle-count\\vehicle-count.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ServiceService } from 'src/app/service/service.service';\n\nexport interface ANPRData {\n  cameraname: string;\n  classification: string;\n  date: string;\n  time: string;\n  inflag: string;\n  outflag: string;\n  location: string;\n  number: string;\n  timestamp:string;\n  status?: string;\n  hotelId:string\n}\n@Component({\n  selector: 'app-vehicle-count',\n  templateUrl: './vehicle-count.component.html',\n  styleUrls: ['./vehicle-count.component.css']\n})\nexport class VehicleCountComponent {\n  searchText: string = '';\n  page: number = 1;\n  \n  ANPRdataArray: ANPRData[] = [];\n  currentvehicleInCount: any\n  currentvwhicleOutCount: any\n  currentPage: any = 1;\n  itemsPerPage: any = 6;\n  totalItems: number = 0;\n  first: any = 1;\n  constructor(private service :ServiceService) { }\n  ngOnInit() {\n    this.getAllANPRData();\n    this.getCurrentCount();\n    this.getCurrentCount1();\n  }\n  getAllANPRData() {\n    this.service.getAllANPRData(this.currentPage,this.itemsPerPage).subscribe((ANPRData: any) => {\n      console.log('ANPRData', ANPRData);\n      this.ANPRdataArray = ANPRData.data;\n      this.totalItems = ANPRData.totalItems\n      this.proecessData(ANPRData)\n    })\n  }\n  proecessData(allData: any): void {\n    this.ANPRdataArray = allData.data.map((item: any) => {\n      if ('inflag' in item) {\n        return { ...item, status: 'IN' };\n      } else if ('outflag' in item) {\n        return { ...item, status: 'OUT' };\n      }\n      else { return { ...item, status: 'UNKNOWN' }; }\n    });\n  }\n  getCurrentCount() {\n    this.service.getcurrentCount().subscribe((currentCount: any) => {\n      this.currentvehicleInCount = currentCount.totalInCount;\n      // this.currentDate = currentCount.date\n     })\n  }\n  getCurrentCount1() {\n    this.service.getcurrentCount().subscribe((currentCount: any) => {\n      this.currentvwhicleOutCount =currentCount.totalOutCount;\n      // this.currentDate = currentCount.date\n     })\n  }\n  filteredvehicleData() {\n    if (!this.searchText) {\n      return this.ANPRdataArray;\n    }\n    return this.ANPRdataArray.filter(item =>\n      Object.values(item).some(val =>\n        val.toString().toLowerCase().includes(this.searchText.toLowerCase())\n      )\n    );\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAqBzC,IAAaC,qBAAqB,GAAlC,MAAaA,qBAAqB;EAWhCC,YAAoBC,OAAuB;IAAvB,KAAAA,OAAO,GAAPA,OAAO;IAV3B,KAAAC,UAAU,GAAW,EAAE;IACvB,KAAAC,IAAI,GAAW,CAAC;IAEhB,KAAAC,aAAa,GAAe,EAAE;IAG9B,KAAAC,WAAW,GAAQ,CAAC;IACpB,KAAAC,YAAY,GAAQ,CAAC;IACrB,KAAAC,UAAU,GAAW,CAAC;IACtB,KAAAC,KAAK,GAAQ,CAAC;EACiC;EAC/CC,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACC,gBAAgB,EAAE;EACzB;EACAF,cAAcA,CAAA;IACZ,IAAI,CAACT,OAAO,CAACS,cAAc,CAAC,IAAI,CAACL,WAAW,EAAC,IAAI,CAACC,YAAY,CAAC,CAACO,SAAS,CAAEC,QAAa,IAAI;MAC1FC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,QAAQ,CAAC;MACjC,IAAI,CAACV,aAAa,GAAGU,QAAQ,CAACG,IAAI;MAClC,IAAI,CAACV,UAAU,GAAGO,QAAQ,CAACP,UAAU;MACrC,IAAI,CAACW,YAAY,CAACJ,QAAQ,CAAC;IAC7B,CAAC,CAAC;EACJ;EACAI,YAAYA,CAACC,OAAY;IACvB,IAAI,CAACf,aAAa,GAAGe,OAAO,CAACF,IAAI,CAACG,GAAG,CAAEC,IAAS,IAAI;MAClD,IAAI,QAAQ,IAAIA,IAAI,EAAE;QACpB,OAAO;UAAE,GAAGA,IAAI;UAAEC,MAAM,EAAE;QAAI,CAAE;OACjC,MAAM,IAAI,SAAS,IAAID,IAAI,EAAE;QAC5B,OAAO;UAAE,GAAGA,IAAI;UAAEC,MAAM,EAAE;QAAK,CAAE;OAClC,MACI;QAAE,OAAO;UAAE,GAAGD,IAAI;UAAEC,MAAM,EAAE;QAAS,CAAE;;IAC9C,CAAC,CAAC;EACJ;EACAX,eAAeA,CAAA;IACb,IAAI,CAACV,OAAO,CAACsB,eAAe,EAAE,CAACV,SAAS,CAAEW,YAAiB,IAAI;MAC7D,IAAI,CAACC,qBAAqB,GAAGD,YAAY,CAACE,YAAY;MACtD;IACD,CAAC,CAAC;EACL;;EACAd,gBAAgBA,CAAA;IACd,IAAI,CAACX,OAAO,CAACsB,eAAe,EAAE,CAACV,SAAS,CAAEW,YAAiB,IAAI;MAC7D,IAAI,CAACG,sBAAsB,GAAEH,YAAY,CAACI,aAAa;MACvD;IACD,CAAC,CAAC;EACL;;EACAC,mBAAmBA,CAAA;IACjB,IAAI,CAAC,IAAI,CAAC3B,UAAU,EAAE;MACpB,OAAO,IAAI,CAACE,aAAa;;IAE3B,OAAO,IAAI,CAACA,aAAa,CAAC0B,MAAM,CAACT,IAAI,IACnCU,MAAM,CAACC,MAAM,CAACX,IAAI,CAAC,CAACY,IAAI,CAACC,GAAG,IAC1BA,GAAG,CAACC,QAAQ,EAAE,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACnC,UAAU,CAACkC,WAAW,EAAE,CAAC,CACrE,CACF;EACH;CACD;AAzDYrC,qBAAqB,GAAAuC,UAAA,EALjCxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,mBAAmB;EAC7BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW1C,qBAAqB,CAyDjC;SAzDYA,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}